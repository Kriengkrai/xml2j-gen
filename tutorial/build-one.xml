<?xml version="1.0" encoding="UTF-8"?>
	<project name="XML2JTutorial" basedir="." default="javadoc">
	<!-- environment -->
	<property environment="env"/>
	<!-- name of the main class -->
	<property name="main-class" value=""/>	
	<!-- name of the module -->
	<property name="module" value="com.xml2j.tutorial"/>	
	<!-- generated jar name -->
	<property name="jar.name" value="default.jar"/>
	<!-- dependencies -->
	
	<!-- where is the source -->
	<!-- if you generate the source locally (relative to the working directory) -->
	<property name="src.dir" value="./src"/>
	<!-- where you want your javadoc -->
	<property name="docs.dir" value="./docs"/>
	<!-- where you want your jars -->
	<property name="build.dir" value="./lib"/>
	<property name="lib.dir" value="../../libs"/>
	
	<!-- where the source of xml2j-core is -->
	<!--
	<property name="framework.src.dir" value="${env.XML2J_HOME}/src" />
	-->
	<property name="framework.src.dir" value="../../../xml2j-core/src/main" />

	<path id="classpath">
		<fileset dir="${lib.dir}" includes="**/*.jar"/>
	</path>

    <path id="library.classpath">
        <pathelement location="${lib.dir}/slf4j-api-1.7.22.jar"/>
        <pathelement location="../../../xml2j-core"/>
    </path>
	
    <target name="javadoc" depends="">
    <javadoc 
    	access="protected" 
    	author="false" 
    	classpath="classpath" 
    	destdir="${docs.dir}" 
    	doctitle="XML2J Toolkit for Java" 
    	nodeprecated="true" 
    	nodeprecatedlist="true" 
    	noindex="false" 
    	nonavbar="false" 
    	notree="false" 
    	packagenames="${module}.*" 
    	source="1.7" 
    	sourcepath="${src.dir};${framework.src.dir}" 
    	splitindex="true" 
    	use="true" 
    	version="true">
    	<bottom>
        	<![CDATA[<b>Copyright Â© Lolke B. Dijkstra - 2017</b>]]>
        </bottom>
    </javadoc>
    </target>
      
    <target name="clean">
        <delete dir="${build.dir}"/>
    </target>

    <target name="compile">
        <mkdir dir="${build.dir}/classes"/>
        <javac srcdir="${src.dir};${framework.src.dir}" destdir="${build.dir}/classes" classpathref="classpath" includeantruntime="false"/>
    </target>
    
    <target name="jar" depends="compile">
        <jar 
        	destfile="./${jar.name}" 
        	basedir="${build.dir}/classes"
        	index="true">
			<manifest>
				<attribute name="Main-Class" value="${main-class}"/>
			</manifest>
        </jar>
    </target>
	
    <target name="run" depends="jar">
        <java fork="true" classname="${main-class}">
            <classpath>
                <path refid="library.classpath"/>
                <path location="./${jar.name}"/>
            </classpath>
        </java>
    </target>

 
    <target name="buildall" depends="clean, compile" />
    <target name="all" depends="javadoc, clean, run" />  
 
</project>
