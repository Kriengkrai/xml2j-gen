<?xml version="1.0" encoding="UTF-8"?>
<project name="XML2J SEPA-PACS 2016" default="javadoc">

	<property name="domain-name" value="sepa"/>
	<property name="module-name" value="pacs"/>
	<property name="version" value="2016"/>
	
	<!-- name of the main class -->
	<property name="main-class" value=""/>	
	<!-- name of the jar -->
	<property name="jar.name" value="ldx-sample-default.jar"/>

	<!-- name of the module -->
	<property name="module" value="com.ldx.${domain-name}${version},com.ldx.${domain-name}${version}.${module-name}"/>	
	<!-- where is the source -->
	<property name="src.dir" value="./${module-name}/src"/>
	
	<!-- where you want your jars -->
	<property name="build.dir" value="./${module-name}/build"/>
	<!-- where you want your javadoc -->
	<property name="docs.dir" value="./${module-name}/docs${version}"/>

	<property name="lib.dir" value="./${module-name}/lib"/>

	<property name="overview.html" value="overview.html"/>

	<!-- where the source of ldx-framework is -->
	<property name="framework.src.dir" value="../../src" />
	<property name="framework.lib.dir" value="../../libs" />

	<path id="classpath">
		<fileset dir="${framework.lib.dir}" includes="**/*.jar"/>
	</path>

    <target name="javadoc" depends="">
    <javadoc 
    	access="public" 
    	author="false" 
    	classpath="classpath" 
    	destdir="${docs.dir}" 
    	doctitle="LDX+ Toolkit for Java v. 2.2.0" 
    	nodeprecated="true" 
    	nodeprecatedlist="true" 
    	noindex="false" 
    	nonavbar="false" 
    	notree="false" 
    	overview="${overview.html}" 
    	packagenames="${module}" 
    	source="1.7" 
    	sourcepath="${src.dir};${framework.src.dir}" 
    	splitindex="true" 
    	use="true" 
    	version="true">
    	<bottom>
         	<![CDATA[<b>Copyright (c) - Dijkstra ICT Consulting - 2010-2016 - <a href="http://www.xml2java.net">www.xml2java.net</a></b>]]>
        </bottom>
    </javadoc>
    </target>
      
    <target name="clean">
        <delete dir="${build.dir}"/>
    </target>

    <target name="compile">
        <mkdir dir="${build.dir}/classes"/>
        <javac srcdir="${src.dir}" destdir="${build.dir}/classes" classpathref="classpath"/>
    </target>
    
    <target name="jar" depends="compile">
        <mkdir dir="${lib.dir}"/>
        <jar 
        	destfile="${lib.dir}/${jar.name}" 
        	basedir="${build.dir}/classes"
        	index="true">
        </jar>
    </target>
 
     <target name="runnable-jar" depends="compile">
        <mkdir dir="${build.dir}/jar"/>
        <jar 
        	destfile="${lib.dir}/${jar.name}" 
        	basedir="${build.dir}/classes"
        	index="true">
            <manifest>
                <attribute name="Main-Class" value="${main-class}"/>
                <attribute name="Class-Path" value="."/>
            </manifest>
            <fileset dir="${build.dir}/classes"/>
            <zipfileset excludes="META-INF/*.SF" src="${framework.lib.dir}/ldx-util-2.2.0.jar"/>
            <zipfileset excludes="META-INF/*.SF" src="${framework.lib.dir}/ldx-xml-core-2.2.0.jar"/>
            <zipfileset excludes="META-INF/*.SF" src="${framework.lib.dir}/ldx-xml-parser-2.2.0.jar"/>
        </jar>
    </target>
 
 
    <target name="buildall" depends="clean, compile" />
    <target name="all" depends="javadoc, clean, compile, jar" />  
 
</project>
